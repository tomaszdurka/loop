module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},14344,(a,b,c)=>{"use strict";b.exports=a.r(18622)},34765,(a,b,c)=>{"use strict";b.exports=a.r(14344).vendored["react-ssr"].ReactJsxRuntime},43426,(a,b,c)=>{"use strict";b.exports=a.r(14344).vendored["react-ssr"].React},18338,(a,b,c)=>{"use strict";b.exports=a.r(14344).vendored.contexts.AppRouterContext},47059,(a,b,c)=>{"use strict";b.exports=a.r(14344).vendored["react-ssr"].ReactServerDOMTurbopackClient},4050,(a,b,c)=>{"use strict";b.exports=a.r(14344).vendored["react-ssr"].ReactDOM},14207,a=>{"use strict";var b=a.i(34765),c=a.i(63129),d=a.i(43426),e=a.i(51394),f=a.i(68325),g=a.i(39744),h=a.i(48938);function i(a){return a?.task_request?.mode??"auto"}function j({tasks:a}){let[j,k]=(0,d.useState)(""),[l,m]=(0,d.useState)("all"),[n,o]=(0,d.useState)("all"),p=(0,d.useMemo)(()=>{let b=j.trim().toLowerCase();return a.filter(a=>("all"===l||a.status===l)&&("all"===n||i(a)===n)&&(!b||String(a.id).toLowerCase().includes(b)||String(a.title??"").toLowerCase().includes(b)||String(a.prompt??"").toLowerCase().includes(b)||String(a.type??"").toLowerCase().includes(b))).sort((a,b)=>(Date.parse(b.created_at??"")||0)-(Date.parse(a.created_at??"")||0))},[a,j,l,n]);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-4",children:(0,b.jsx)(f.CardTitle,{className:"text-base",children:"Filters"})}),(0,b.jsxs)(f.CardContent,{className:"grid gap-3 pt-0 md:grid-cols-4",children:[(0,b.jsx)(g.Input,{placeholder:"Search by id, title, prompt...",value:j,onChange:a=>k(a.target.value)}),(0,b.jsxs)(h.Select,{value:l,onValueChange:m,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All statuses"}),(0,b.jsx)(h.SelectItem,{value:"queued",children:"queued"}),(0,b.jsx)(h.SelectItem,{value:"leased",children:"leased"}),(0,b.jsx)(h.SelectItem,{value:"running",children:"running"}),(0,b.jsx)(h.SelectItem,{value:"done",children:"done"}),(0,b.jsx)(h.SelectItem,{value:"failed",children:"failed"}),(0,b.jsx)(h.SelectItem,{value:"blocked",children:"blocked"})]})]}),(0,b.jsxs)(h.Select,{value:n,onValueChange:o,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Mode"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All modes"}),(0,b.jsx)(h.SelectItem,{value:"auto",children:"auto"}),(0,b.jsx)(h.SelectItem,{value:"lean",children:"lean"}),(0,b.jsx)(h.SelectItem,{value:"full",children:"full"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end text-xs text-muted-foreground",children:[p.length," jobs"]})]})]}),(0,b.jsxs)(f.Card,{className:"overflow-hidden",children:[(0,b.jsxs)("div",{className:"grid gap-3 border-b bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.13em] text-muted-foreground lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]",children:[(0,b.jsx)("span",{children:"Task"}),(0,b.jsx)("span",{children:"Status"}),(0,b.jsx)("span",{children:"Mode"}),(0,b.jsx)("span",{children:"Attempts"}),(0,b.jsx)("span",{children:"Elapsed"}),(0,b.jsx)("span",{children:"Updated"})]}),(0,b.jsxs)("ul",{className:"divide-y",children:[p.map(a=>{var d,f;let g,h,j,k,l;return(0,b.jsx)("li",{children:(0,b.jsx)(c.default,{href:`/jobs/${a.id}`,className:"block px-4 py-4 transition hover:bg-muted/40",children:(0,b.jsxs)("div",{className:"grid gap-3 lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"truncate text-sm font-semibold",children:a.title||"Untitled task"}),(0,b.jsx)("p",{className:"mt-1 truncate text-xs text-muted-foreground",children:a.prompt}),(0,b.jsx)("p",{className:"mt-1 font-mono text-[11px] text-muted-foreground",children:a.id})]}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)(e.Badge,{variant:"outline",className:"done"===(d=a.status)?"bg-emerald-100 text-emerald-800 border-emerald-200":"running"===d||"leased"===d?"bg-blue-100 text-blue-800 border-blue-200":"queued"===d?"bg-amber-100 text-amber-900 border-amber-200":"failed"===d||"blocked"===d?"bg-rose-100 text-rose-900 border-rose-200":"bg-slate-100 text-slate-700 border-slate-200",children:a.status})}),(0,b.jsx)("div",{className:"text-xs",children:i(a)}),(0,b.jsxs)("div",{className:"text-xs",children:[a.attempt_count,"/",a.max_attempts]}),(0,b.jsx)("div",{className:"text-xs",children:(l=Date.parse((f=a).created_at??""))?(h=Math.floor((g=Math.max(0,Math.floor(((("done"===f.status||"failed"===f.status||"blocked"===f.status)&&Date.parse(f.updated_at??"")||Date.now())-l)/1e3)))/3600),j=Math.floor(g%3600/60),k=g%60,h>0?`${h}h ${j}m`:j>0?`${j}m ${k}s`:`${k}s`):"-"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.updated_at})]})})},a.id)}),0===p.length?(0,b.jsx)("li",{className:"p-10 text-center text-sm text-muted-foreground",children:"No jobs match current filters."}):null]})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5117d466._.js.map