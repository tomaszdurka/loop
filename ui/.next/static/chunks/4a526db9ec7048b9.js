(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15117,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},47408,e=>{"use strict";var t=e.i(80663),l=e.i(62504),s=e.i(56916),a=e.i(40606),r=e.i(89732),d=e.i(21010),n=e.i(68733);function c(e){return e?.task_request?.mode??"auto"}function i({tasks:e}){let[i,o]=(0,s.useState)(""),[u,x]=(0,s.useState)("all"),[m,h]=(0,s.useState)("all"),p=(0,s.useMemo)(()=>{let t=i.trim().toLowerCase();return e.filter(e=>("all"===u||e.status===u)&&("all"===m||c(e)===m)&&(!t||String(e.id).toLowerCase().includes(t)||String(e.title??"").toLowerCase().includes(t)||String(e.prompt??"").toLowerCase().includes(t)||String(e.type??"").toLowerCase().includes(t))).sort((e,t)=>(Date.parse(t.created_at??"")||0)-(Date.parse(e.created_at??"")||0))},[e,i,u,m]);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-4",children:(0,t.jsx)(r.CardTitle,{className:"text-base",children:"Filters"})}),(0,t.jsxs)(r.CardContent,{className:"grid gap-3 pt-0 md:grid-cols-4",children:[(0,t.jsx)(d.Input,{placeholder:"Search by id, title, prompt...",value:i,onChange:e=>o(e.target.value)}),(0,t.jsxs)(n.Select,{value:u,onValueChange:x,children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{placeholder:"Status"})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"all",children:"All statuses"}),(0,t.jsx)(n.SelectItem,{value:"queued",children:"queued"}),(0,t.jsx)(n.SelectItem,{value:"leased",children:"leased"}),(0,t.jsx)(n.SelectItem,{value:"running",children:"running"}),(0,t.jsx)(n.SelectItem,{value:"done",children:"done"}),(0,t.jsx)(n.SelectItem,{value:"failed",children:"failed"}),(0,t.jsx)(n.SelectItem,{value:"blocked",children:"blocked"})]})]}),(0,t.jsxs)(n.Select,{value:m,onValueChange:h,children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{placeholder:"Mode"})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"all",children:"All modes"}),(0,t.jsx)(n.SelectItem,{value:"auto",children:"auto"}),(0,t.jsx)(n.SelectItem,{value:"lean",children:"lean"}),(0,t.jsx)(n.SelectItem,{value:"full",children:"full"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end text-xs text-muted-foreground",children:[p.length," jobs"]})]})]}),(0,t.jsxs)(r.Card,{className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid gap-3 border-b bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.13em] text-muted-foreground lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]",children:[(0,t.jsx)("span",{children:"Task"}),(0,t.jsx)("span",{children:"Status"}),(0,t.jsx)("span",{children:"Mode"}),(0,t.jsx)("span",{children:"Attempts"}),(0,t.jsx)("span",{children:"Elapsed"}),(0,t.jsx)("span",{children:"Updated"})]}),(0,t.jsxs)("ul",{className:"divide-y",children:[p.map(e=>{var s,r;let d,n,i,o,u;return(0,t.jsx)("li",{children:(0,t.jsx)(l.default,{href:`/jobs/${e.id}`,className:"block px-4 py-4 transition hover:bg-muted/40",children:(0,t.jsxs)("div",{className:"grid gap-3 lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-sm font-semibold",children:e.title||"Untitled task"}),(0,t.jsx)("p",{className:"mt-1 truncate text-xs text-muted-foreground",children:e.prompt}),(0,t.jsx)("p",{className:"mt-1 font-mono text-[11px] text-muted-foreground",children:e.id})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(a.Badge,{variant:"outline",className:"done"===(s=e.status)?"bg-emerald-100 text-emerald-800 border-emerald-200":"running"===s||"leased"===s?"bg-blue-100 text-blue-800 border-blue-200":"queued"===s?"bg-amber-100 text-amber-900 border-amber-200":"failed"===s||"blocked"===s?"bg-rose-100 text-rose-900 border-rose-200":"bg-slate-100 text-slate-700 border-slate-200",children:e.status})}),(0,t.jsx)("div",{className:"text-xs",children:c(e)}),(0,t.jsxs)("div",{className:"text-xs",children:[e.attempt_count,"/",e.max_attempts]}),(0,t.jsx)("div",{className:"text-xs",children:(u=Date.parse((r=e).created_at??""))?(n=Math.floor((d=Math.max(0,Math.floor(((("done"===r.status||"failed"===r.status||"blocked"===r.status)&&Date.parse(r.updated_at??"")||Date.now())-u)/1e3)))/3600),i=Math.floor(d%3600/60),o=d%60,n>0?`${n}h ${i}m`:i>0?`${i}m ${o}s`:`${o}s`):"-"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.updated_at})]})})},e.id)}),0===p.length?(0,t.jsx)("li",{className:"p-10 text-center text-sm text-muted-foreground",children:"No jobs match current filters."}):null]})]})]})}e.s(["default",()=>i])}]);