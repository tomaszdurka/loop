{"version":3,"sources":["../../../../../ui/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../ui/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../ui/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../ui/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../ui/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../../ui/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../../ui/components/jobs/JobsListView.jsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","'use client';\n\nimport Link from 'next/link';\nimport { useMemo, useState } from 'react';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\n\nfunction formatElapsed(ms) {\n  const totalSeconds = Math.max(0, Math.floor(ms / 1000));\n  const hours = Math.floor(totalSeconds / 3600);\n  const minutes = Math.floor((totalSeconds % 3600) / 60);\n  const seconds = totalSeconds % 60;\n  if (hours > 0) return `${hours}h ${minutes}m`;\n  if (minutes > 0) return `${minutes}m ${seconds}s`;\n  return `${seconds}s`;\n}\n\nfunction elapsedForTask(task) {\n  const started = Date.parse(task.created_at ?? '');\n  if (!started) return '-';\n  const terminal = task.status === 'done' || task.status === 'failed' || task.status === 'blocked';\n  const endTs = terminal ? Date.parse(task.updated_at ?? '') || Date.now() : Date.now();\n  return formatElapsed(endTs - started);\n}\n\nfunction configuredMode(task) {\n  return task?.task_request?.mode ?? 'auto';\n}\n\nfunction statusBadgeClass(status) {\n  if (status === 'done') return 'bg-emerald-100 text-emerald-800 border-emerald-200';\n  if (status === 'running' || status === 'leased') return 'bg-blue-100 text-blue-800 border-blue-200';\n  if (status === 'queued') return 'bg-amber-100 text-amber-900 border-amber-200';\n  if (status === 'failed' || status === 'blocked') return 'bg-rose-100 text-rose-900 border-rose-200';\n  return 'bg-slate-100 text-slate-700 border-slate-200';\n}\n\nexport default function JobsListView({ tasks }) {\n  const [query, setQuery] = useState('');\n  const [status, setStatus] = useState('all');\n  const [mode, setMode] = useState('all');\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return tasks\n      .filter((task) => {\n        if (status !== 'all' && task.status !== status) return false;\n        if (mode !== 'all' && configuredMode(task) !== mode) return false;\n        if (!q) return true;\n        return (\n          String(task.id).toLowerCase().includes(q)\n          || String(task.title ?? '').toLowerCase().includes(q)\n          || String(task.prompt ?? '').toLowerCase().includes(q)\n          || String(task.type ?? '').toLowerCase().includes(q)\n        );\n      })\n      .sort((a, b) => (Date.parse(b.created_at ?? '') || 0) - (Date.parse(a.created_at ?? '') || 0));\n  }, [tasks, query, status, mode]);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"text-base\">Filters</CardTitle>\n        </CardHeader>\n        <CardContent className=\"grid gap-3 pt-0 md:grid-cols-4\">\n          <Input\n            placeholder=\"Search by id, title, prompt...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n          />\n          <Select value={status} onValueChange={setStatus}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All statuses</SelectItem>\n              <SelectItem value=\"queued\">queued</SelectItem>\n              <SelectItem value=\"leased\">leased</SelectItem>\n              <SelectItem value=\"running\">running</SelectItem>\n              <SelectItem value=\"done\">done</SelectItem>\n              <SelectItem value=\"failed\">failed</SelectItem>\n              <SelectItem value=\"blocked\">blocked</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={mode} onValueChange={setMode}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Mode\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All modes</SelectItem>\n              <SelectItem value=\"auto\">auto</SelectItem>\n              <SelectItem value=\"lean\">lean</SelectItem>\n              <SelectItem value=\"full\">full</SelectItem>\n            </SelectContent>\n          </Select>\n          <div className=\"flex items-center justify-end text-xs text-muted-foreground\">\n            {filtered.length} jobs\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"overflow-hidden\">\n        <div className=\"grid gap-3 border-b bg-muted/40 px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.13em] text-muted-foreground lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]\">\n          <span>Task</span>\n          <span>Status</span>\n          <span>Mode</span>\n          <span>Attempts</span>\n          <span>Elapsed</span>\n          <span>Updated</span>\n        </div>\n        <ul className=\"divide-y\">\n          {filtered.map((task) => (\n            <li key={task.id}>\n              <Link href={`/jobs/${task.id}`} className=\"block px-4 py-4 transition hover:bg-muted/40\">\n                <div className=\"grid gap-3 lg:grid-cols-[minmax(0,3fr)_130px_90px_90px_110px_190px]\">\n                  <div className=\"min-w-0\">\n                    <p className=\"truncate text-sm font-semibold\">{task.title || 'Untitled task'}</p>\n                    <p className=\"mt-1 truncate text-xs text-muted-foreground\">{task.prompt}</p>\n                    <p className=\"mt-1 font-mono text-[11px] text-muted-foreground\">{task.id}</p>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <Badge variant=\"outline\" className={statusBadgeClass(task.status)}>{task.status}</Badge>\n                  </div>\n                  <div className=\"text-xs\">{configuredMode(task)}</div>\n                  <div className=\"text-xs\">{task.attempt_count}/{task.max_attempts}</div>\n                  <div className=\"text-xs\">{elapsedForTask(task)}</div>\n                  <div className=\"text-xs text-muted-foreground\">{task.updated_at}</div>\n                </div>\n              </Link>\n            </li>\n          ))}\n          {filtered.length === 0 ? (\n            <li className=\"p-10 text-center text-sm text-muted-foreground\">No jobs match current filters.</li>\n          ) : null}\n        </ul>\n      </Card>\n    </div>\n  );\n}\n\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React","AppRouterContext","ReactServerDOMTurbopackClient","ReactDOM"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,+BCF9BR,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,QAAW,CAACG,gBAAgB,8BCFvCT,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEI,6BAA6B,8BCFtDV,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEK,QAAQ,0CCAjC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAoBA,SAAS,EAAe,CAAI,EAC1B,OAAO,GAAM,cAAc,MAAQ,MACrC,CAUe,SAAS,EAAa,CAAE,OAAK,CAAE,EAC5C,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OAC/B,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OAE3B,EAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACvB,IAAM,EAAI,EAAM,IAAI,GAAG,WAAW,GAClC,OAAO,EACJ,MAAM,CAAE,AAAD,GACN,CAAe,QAAX,GAAoB,EAAK,MAAM,GAAK,CAAA,GAAQ,CACnC,MAD0C,EACnD,GAAkB,EAAe,KAAU,CAAA,GAAM,EAChD,GAAG,AAEN,EAH0D,KAC7C,AAEN,EAAK,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,IACpC,OAAO,EAAK,KAAK,EAAI,IAAI,WAAW,GAAG,QAAQ,CAAC,IAChD,OAAO,EAAK,MAAM,EAAI,IAAI,WAAW,GAAG,QAAQ,CAAC,IACjD,OAAO,EAAK,IAAI,EAAI,IAAI,WAAW,GAAG,QAAQ,CAAC,KAGrD,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,KAAK,KAAK,CAAC,EAAE,UAAU,EAAI,MAAO,CAAC,EAAK,EAAD,GAAM,KAAK,CAAC,EAAE,UAAU,EAAI,MAAO,CAAC,CAChG,EAAG,CAAC,EAAO,EAAO,EAAQ,EAAK,EAE/B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qBAAY,cAEnC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,2CACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,YAAY,iCACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,IAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAQ,cAAe,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,aAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,iBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,mBAAU,YAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,SACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,mBAAU,kBAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAM,cAAe,YAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,WAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,SACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,SACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,eAG7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACZ,EAAS,MAAM,CAAC,iBAKvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,4BACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2LACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,SACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,SACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,aACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,YACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,eAER,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qBACX,EAAS,GAAG,CAAC,AAAC,gBAxGjB,EACA,cAwGI,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,MAAM,EAAE,EAAK,EAAE,CAAA,CAAE,CAAE,UAAU,wDACxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAkC,EAAK,KAAK,EAAI,kBAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAK,MAAM,GACvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DAAoD,EAAK,EAAE,MAE1E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UA5F5B,AAAX,AAAJ,CA4FsD,OA5F/B,EADC,EA6F+C,EAAK,EA7F9C,IA6FoD,EA5FpD,qDACf,YAAX,GAAmC,UAAU,CAArB,EAA4B,4CACzC,UAAU,CAArB,EAA4B,+CACjB,WAAX,GAAkC,WAAW,CAAtB,EAA6B,4CACjD,wDAwF+E,EAAK,MAAM,KAEjF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBAAW,EAAe,KACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBAAW,EAAK,aAAa,CAAC,IAAE,EAAK,YAAY,IAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBA3G/B,CADM,AA4GoC,EA5G1B,CACZ,CAAC,GADgB,KAAK,CAAC,AACb,CAFQ,EA6GmC,EA7G/B,CACM,UAAU,EAAI,QAThC,KAAK,KAAK,CAAC,GADJ,KAAK,GAAG,CAAC,EAAG,KAAK,KAAK,CAAC,CAcvB,CADP,CADmB,SAAhB,EAAK,MAAM,EAA+B,WAAhB,EAAK,MAAM,EAAiC,YAAhB,EAAK,MAAM,AAAK,GAC9D,KAAK,KAAK,CAAC,EAAK,UAAU,EAAI,KAAO,KAAK,GAAG,EAAa,EACtD,CAD8C,AAC9C,EAdoB,GAa+B,GAAG,CAZ3C,MAClC,EAAU,KAAK,KAAK,CAAE,EAAe,KAAQ,IAC7C,EAAU,EAAe,GAC/B,AAAI,EAAQ,EAAU,CAAP,AAAO,EAAG,EAAM,EAAE,EAAE,EAAQ,CAAC,CAAC,CACzC,EAAU,EAAU,CAAP,AAAO,EAAG,EAAQ,EAAE,EAAE,EAAQ,CAAC,CAAC,CAC1C,CAAA,EAAG,EAAQ,CAAC,CAAC,EAKC,MA4GL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAiC,EAAK,UAAU,SAd5D,EAAK,EAAE,IAmBG,IAApB,EAAS,MAAM,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,mCAC7D,aAKd","ignoreList":[0,1,2,3,4,5]}